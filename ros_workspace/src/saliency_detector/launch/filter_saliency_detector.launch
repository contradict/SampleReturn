<?xml version="1.0"?>
<launch>
  <include file="$(find saliency_detector)/launch/saliency_detector.launch">
    <arg name="namespace" value="port"/>
  </include>

  <include file="$(find saliency_detector)/launch/saliency_detector.launch">
    <arg name="namespace" value="center"/>
  </include>

  <include file="$(find saliency_detector)/launch/saliency_detector.launch">
    <arg name="namespace" value="starboard"/>
  </include>

  <node
    pkg="detection_filter"
    type="dslr_kalman_filter_node"
    name="kalman_filter_node"
    machine="search"
    ns="/processes/sample_detection/search">
    <remap from="/processes/sample_detection/search/center/named_point" to="named_point"/>
    <remap from="/processes/sample_detection/search/port/named_point" to="named_point"/>
    <remap from="/processes/sample_detection/search/starboard/named_point" to="named_point"/>
    <remap from="camera_info" to="/cameras/search/center/camera_info"/>
    <remap from="ack" to="/processes/executive/pursuit_result"/>
    <remap from="odometry" to="/motion/odometry"/>
    <param name="max_dist" type="double" value="1.5"/>
    <param name="max_cov" type="double" value="1.5"/>
    <param name="max_pub_cov" type="double" value="0.3"/>
    <param name="max_pub_vel" type="double" value="0.1"/>
    <param name="accumulate" type="bool" value="true"/>
    <param name="positive_exclusion_radius" type="double" value="10.0"/>
    <param name="negative_exclusion_radius" type="double" value="3.0"/>
    <param name="error_cov_post" type="double" value="0.3"/>
    <param name="process_noise_cov" type="double" value="0.01"/>
    <param name="measurement_noise_cov" type="double" value="0.1"/>
    <param name="period" type="double" value="0.33"/>
  </node>

  <!--
  <node
    pkg="sample_detection"
    type="ray_to_points.py"
    name="ray_to_points"
    machine="search"
    ns="/processes/sample_detection/search">
    <remap from="fence_line" to="/processes/fence_detection/fence_line"/>
  </node>

  <node
    pkg="saliency_detector"
    type="close_range_detector.py"
    name="close_range_detector"
    machine="search"
    ns="/processes/sample_detection/search">
    <remap from="cam_info" to="/cameras/search/center/camera_info"/>
    <remap from="image" to="/cameras/search/center/image_color"/>
  </node>
  -->

</launch>
