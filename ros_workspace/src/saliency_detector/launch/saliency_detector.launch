<?xml version="1.0"?>
<launch>
  <arg name="namespace" default="center"/>
  <node
    pkg="saliency_detector"
    type="saliency_detector_node"
    name="saliency_detector"
    machine="search"
    ns="/processes/sample_detection/search/$(arg namespace)">
    <remap from="image" to="/cameras/search/$(arg namespace)/image_color"/>
    <param name="bms_opening_width" type="int" value="3"/>
    <param name="bms_dilation_width_1" type="int" value="0"/>
    <param name="bms_thresh_fraction" type="double" value="0.3"/>
    <param name="bms_thresh_on" type="bool" value="True"/>
    <param name="bms_img_width" type="double" value="400"/>
    <param name="bms_top_trim" type="double" value="0"/>
    <param name="filterByConvexity" type="bool" value="True"/>
    <param name="filterByArea" type="bool" value="True"/>
    <param name="minArea" type="double" value="2500.0"/>
    <param name="maxArea" type="double" value="100000.0"/>
    <param name="minDistBetweenBlobs" type="double" value="100.0"/>
    <param name="minThreshold" type="double" value="100.0"/>
    <param name="maxThreshold" type="double" value="200.0"/>
    <param name="thresholdStep" type="double" value="20.0"/>
    <param name="minRepeatability" type="double" value="3.0"/>
    <param name="patch_scaling_factor" type="double" value="4.0"/>
  </node>

  <node
    pkg="saliency_detector"
    type="ground_projector_node"
    name="ground_projector"
    machine="search"
    ns="/processes/sample_detection/search/$(arg namespace)">
    <param name="sub_plane_model_topic" type="string"
      value="/cameras/navigation/$(arg namespace)/planefit/model"/>
    <param name="min_major_axis" type="double" value="0.04"/>
    <param name="max_major_axis" type="double" value="0.2"/>
  </node>

  <node
    pkg="saliency_detector"
    type="color_histogram_descriptor_node"
    name="color_histogram_descriptor"
    machine="search"
    ns="/processes/sample_detection/search/$(arg namespace)">
    <remap from="/processes/sample_detection/search/$(arg namespace)/named_point"
      to="/processes/sample_detection/search/named_point"/>
    <param name="min_target_hue" type="double" value="120"/>
    <param name="max_target_hue" type="double" value="30"/>
    <param name="min_color_saturation" type="double" value="100"/>
    <param name="high_saturation_limit" type="double" value="0.7"/>
    <param name="low_saturation_limit" type="double" value="0.1"/>
    <param name="min_inner_outer_distance" type="double" value="0.9"/>
    <param name="max_exemplar_distance" type="double" value="0.7"/>
  </node>

  <node
    pkg="topic_tools"
    type="relay"
    name="search_camera_info_relay"
    machine="search"
    ns="/processes/sample_detection/search/$(arg namespace)"
    args="/cameras/search/$(arg namespace)/camera_info /processes/sample_detection/search/camera_info">
  </node>

</launch>
