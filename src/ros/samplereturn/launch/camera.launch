<?xml version="1.0"?>
<!-- vim: set fenc=utf-8 et sts=4 ft=xml : -->
<launch>
    <!-- IEEE1394 camera driver -->
    <!-- Nodelet Host process -->
    <node
        machine="navigate"
        pkg="nodelet"
        type="nodelet"
        name="camera_process"
        args="manager"
        output="log"
        >
    </node>
    <node
         machine="navigate"
         pkg="nodelet"
         type="nodelet"
         name="left"
         args="load camera1394/driver /camera_process"
         ns="/stereo">

        <param name="guid" type="string" value="00b09d0100a8563d"/>
        <param name="video_mode" value="640x480_mono8"/>
        <param name="frame_id" value="navigation_stereo"/>
        <param name="frame_rate" value="15"/>
        <param name="bayer_pattern" value="rggb"/>
        <param name="camera_info_url"
               type="string"
               value="file://$(find samplereturn)/calibration/ffmv-left.yaml" />
        <remap from="camera" to="left" />
    </node>
    <node
         machine="navigate"
         pkg="nodelet"
         type="nodelet"
         name="right"
         args="load camera1394/driver /camera_process"
         ns="/stereo">

        <param name="guid" type="string" value="00b09d0100a8566e"/>
        <param name="video_mode" value="640x480_mono8"/>
        <param name="frame_id" value="navigation_stereo"/>
        <param name="frame_rate" value="15"/>
        <param name="bayer_pattern" value="rggb"/>
        <param name="camera_info_url"
               type="string"
               value="file://$(find samplereturn)/calibration/ffmv-right.yaml" />
        <remap from="camera" to="right" />
    </node>

    <!-- Debayer -->
    <node
          machine="navigate"
          pkg="nodelet"
          type="nodelet"
          name="debayer_left"
          args="load image_proc/debayer /camera_process"
          ns="/stereo/left">
    </node>
    <node
          machine="navigate"
          pkg="nodelet"
          type="nodelet"
          name="debayer_right"
          args="load image_proc/debayer /camera_process"
          ns="/stereo/right">
    </node>

    <!-- DSLR Camera Service Server --> 
    <node machine="search" pkg="photo" type="photo_node" name="photo_node"/>
</launch>
